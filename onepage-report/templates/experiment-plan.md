# 實驗計畫模板

## 觸發條件

當符合以下條件時執行此步驟：
- 使用者選擇 E1 或 E2 佐證強度
- Issue 類型為 `experiment`（需實驗佐證）
- 審稿發現缺少關鍵數據

---

## 實驗計畫格式

```markdown
## 補充實驗計畫

本報告目前缺少以下關鍵數據，建議補做實驗：

### 實驗：{實驗名稱}

#### 為什麼需要這個實驗？（實驗原因）
{用白話文解釋，讓國中生也能懂}
- 目前報告宣稱：{報告中的結論或數據}
- 但缺少證據：{缺少什麼佐證}
- 如果不做實驗：{會有什麼風險，例如「結論可能不成立」}

#### 這個實驗要證明什麼？（實驗目的）
{明確說明實驗要驗證的假設}
- 假設：{如果 X 成立，那麼 Y 應該會發生}
- 成功標準：{什麼結果代表假設成立}
- 失敗標準：{什麼結果代表假設不成立}

#### 實驗設計（白話版）
{用國中生能懂的方式解釋實驗怎麼做}

**對照組（Baseline）**：
- 做什麼：{現行方案的操作}
- 為什麼需要對照組：{解釋比較的意義}

**實驗組（Experimental）**：
- 做什麼：{新方案的操作}
- 跟對照組的差異：{明確說明改變了什麼}

#### 實驗設定（技術細節）
- **裝置**：{型號/SoC}
- **版本**：{軟體版本號}
- **場景**：{測試場景/關卡}
- **時長**：{測試時長} 秒
- **重複次數**：{次數}（取平均值）

#### 量測指標
| 指標 | 單位 | 為什麼要測這個 | 成功門檻 |
|------|------|----------------|----------|
| {指標1} | {單位} | {白話解釋意義} | {例：>= 10%} |
| {指標2} | {單位} | {白話解釋意義} | {例：<= 5ms} |

#### 量測方法
{如何量測，使用什麼工具/指令}

#### 預期結果
- 如果假設成立：{預期會看到什麼}
- 如果假設不成立：{預期會看到什麼}

#### 回填表格
請完成實驗後，回填以下表格：

| Metric | Baseline | Experimental | Delta | 達標？ |
|--------|----------|--------------|-------|--------|
| {指標1} | | | | |
| {指標2} | | | | |

---

請完成實驗並回填數據，或選擇：
1. 提供實驗數據（回填上表）
2. 跳過實驗，弱化結論
3. 修改實驗設計
```

---

## E1 vs E2 差異

| 項目 | E1 輕佐證 | E2 強佐證 |
|------|----------|----------|
| 指標數量 | 1-2 個關鍵指標 | 3-5 個完整指標 |
| 場景數量 | 1 個代表場景 | 2-3 個不同場景 |
| 重複次數 | 1 次 | 3 次取平均 |
| 統計要求 | 無 | 標準差、信心區間 |
| 流程圖詳細度 | 簡化版（主要步驟） | 完整版（含子步驟） |

---

## 實驗流程圖（必須產生）

每個實驗計畫都必須產生一張流程圖，加入 diagrams.md：

```markdown
## 附錄圖：{實驗名稱}流程圖

- **類型**：experiment_flow
- **說明**：完整描述實驗的執行流程和比較方式
- **尺寸**：1056x528

### SVG 生成指示

生成「實驗流程圖」，完整描述實驗設計：

**整體佈局**：上下兩區塊 + 右側比較區

**上方區塊「對照組 (Baseline)」**（灰色邊框）：
- 標題：對照組：{現行方案名稱}
- 流程節點（橫向）：
  1. {步驟1} → 2. {步驟2} → 3. {步驟3} → 結果：{預期結果}

**下方區塊「實驗組 (Experimental)」**（藍色邊框）：
- 標題：實驗組：{新方案名稱}
- 流程節點（橫向）：
  1. {步驟1} → 2. {步驟2} → 3. {步驟3} → 結果：{預期結果}
- 用綠色標示跟對照組不同的步驟

**右側比較區**：
- 標題：比較指標
- 列出要比較的指標和成功門檻

**差異標註**：
- 用橙色虛線連接兩組的差異點
- 標註文字說明「這裡改變了 XXX」
```

---

## 處理使用者回填的數據

當使用者回填實驗數據後：
1. 自動計算 Delta（變化量/百分比）
2. 判斷是否達到成功門檻
3. 更新 one_page.md 中的證據區塊
4. 在 citation_map.md 中新增實驗來源
5. 更新實驗流程圖，加入實際結果
